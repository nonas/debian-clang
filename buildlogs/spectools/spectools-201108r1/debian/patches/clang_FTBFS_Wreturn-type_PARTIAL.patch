Description: fix FTBFS with clang instead of gcc [-Wreturn-type]
Author: Nicolas SÃ©velin-Radiguet <nicosr@free.fr>
Last-Update: 2014-03-08
--- a/spectool_raw.c
+++ b/spectool_raw.c
@@ -101,7 +101,7 @@
 
 		if (o == 'h') {
 			Usage();
-			return;
+			return 1;
 		} else if (o == 'b') {
 			bcastlisten = 1;
 		} else if (o == 'n') {
--- a/spectool_curses.c
+++ b/spectool_curses.c
@@ -90,7 +90,7 @@
 
 		if (o == 'h') {
 			Usage();
-			return;
+			return 1;
 		} else if (o == 'n') {
 			neturl = strdup(optarg);
 			continue;
@@ -98,20 +98,20 @@
 			if (sscanf(optarg, "%d", &range) != 1) {
 				printf("Expected number for range, see listing for supported ranges\n");
 				Usage();
-				return;
+				return 0;
 			}
 			continue;
 		} else if (o == 'd') {
 			if (sscanf(optarg, "%d", &device) != 1) {
 				printf("Expected number for device, see listing for detected devices\n");
 				Usage();
-				return;
+				return 0;
 			}
 
 			if (device < 0 || device >= ndev) {
 				printf("Device number invalid, see listing for detected devices\n");
 				Usage();
-				return;
+				return 0;
 			}
 
 			continue;
--- a/spectool_gtk_hw_registry.c
+++ b/spectool_gtk_hw_registry.c
@@ -326,10 +326,10 @@
 
 spectool_phy *wdr_get_phy(spectool_device_registry *wdr, int slot) {
 	if (slot < 0 || slot > wdr->max_dev)
-		return;
+		return 0;
 
 	if (wdr->devices[slot] == NULL)
-		return;
+		return 0;
 
 	return wdr->devices[slot]->phydev;
 }
@@ -523,10 +523,10 @@
 	char err[SPECTOOL_ERROR_MAX];
 
 	if (wdrpr->slot < 0 || wdrpr->slot > wdrpr->wdr->max_dev)
-		return;
+		return 0;
 
 	if (wdrpr->wdr->netservers[wdrpr->slot] == NULL)
-		return;
+		return 0;
 
 	sr = wdrpr->wdr->netservers[wdrpr->slot]->srv;
 
@@ -537,7 +537,7 @@
 			Spectool_Alert_Dialog(err);
 
 			wdr_close_net(wdrpr->wdr, wdrpr->slot);
-			return;
+			return 1;
 		}
 
 	} while ((r & SPECTOOL_NETCLI_POLL_ADDITIONAL));
